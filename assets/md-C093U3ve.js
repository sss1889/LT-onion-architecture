import{_ as n}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Bmd1fM5W.js";import{b as r,o as p,w as a,g as s,e as d,m as g,D as i,v as y,x as A,z as k}from"./modules/vue-DmTUxbZp.js";import{I as D}from"./slidev/default-CEmZ9vGf.js";import{u as o,f as c}from"./slidev/context-5_UruI1J.js";import"./modules/unplugin-icons-h2xr_bJB.js";import"./index-DCvudwLP.js";import"./modules/shiki-Bt8nK6PX.js";import"./slidev/TitleIcon.vue_vue_type_script_setup_true_lang-CYtWZaiI.js";const u={class:"grid grid-cols-2 gap-8"},b={__name:"slides.md__slidev_17",setup(B){const{$clicksContext:t,$frontmatter:h}=o();return t.setup(),(E,l)=>{const e=n;return p(),r(D,y(A(k(c)(k(h),16))),{default:a(()=>[l[2]||(l[2]=s("h2",null,"アーキテクチャの恩恵：テスト",-1)),s("div",u,[l[1]||(l[1]=s("div",null,[s("p",null,[s("strong",null,"DBなしでビジネスロジックをテストする")]),s("p",null,"Repositoryをモック化することで、DB接続なしでUsecase単体のテストが可能になります。"),s("p",null,[s("strong",null,"メリット:")]),s("ul",null,[s("li",null,"テストが高速（DBセットアップ不要）"),s("li",null,"CIでも軽快に動作"),s("li",null,"ビジネスロジックに集中できる")]),s("p",null,"→ これが「インターフェースを切る意味」")],-1)),s("div",null,[d(e,g({},{title:"",ranges:[]}),{default:a(()=>[...l[0]||(l[0]=[s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# test_user_usecase.py")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# 1. テスト用のモックリポジトリ（メモリに保存するだけ）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"class"),s("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}}," MockUserRepository"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"UserRepository"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    def"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," save"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"self"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," user"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," User"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ->"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," User"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"        return"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," user  "),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# DBには繋がない")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# 2. 本物のUsecaseに、偽物のリポジトリを渡す")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"def"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," test_register_user"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"():")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    usecase "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," UserUsecase"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"repo"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"MockUserRepository"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"())")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    # 3. 高速にビジネステストが実行可能")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    result "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," usecase"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"register_user"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Tom"),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"'),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    assert"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," result"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"name "),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"=="),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},' "'),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Tom"),s("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},'"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    # DB接続なしでロジックを検証することができる")])])],-1)])]),_:1},16)])])]),_:1},16)}}};export{b as default};
